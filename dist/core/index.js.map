{"version":3,"file":"core/index.js","mappings":"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","sources":["webpack://dyna-userscripts/webpack/universalModuleDefinition","webpack://dyna-userscripts/./src/utils/getDurationString.ts","webpack://dyna-userscripts/./src/utils/getRuntimeStack.ts","webpack://dyna-userscripts/./src/utils/index.ts","webpack://dyna-userscripts/./src/web/ConsoleLogger.ts","webpack://dyna-userscripts/./src/web/index.ts","webpack://dyna-userscripts/./src/web/isLocalhost.ts","webpack://dyna-userscripts/external commonjs \"dyna-error\"","webpack://dyna-userscripts/external commonjs \"dyna-loops\"","webpack://dyna-userscripts/external commonjs \"moment\"","webpack://dyna-userscripts/webpack/bootstrap","webpack://dyna-userscripts/webpack/runtime/compat get default export","webpack://dyna-userscripts/webpack/runtime/define property getters","webpack://dyna-userscripts/webpack/runtime/hasOwnProperty shorthand","webpack://dyna-userscripts/webpack/runtime/make namespace object","webpack://dyna-userscripts/./src/core/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"dyna-userscripts\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dyna-userscripts\"] = factory();\n\telse\n\t\troot[\"dyna-userscripts\"] = factory();\n})(self, () => {\nreturn ","import moment from \"moment\";\nimport { round } from \"dyna-loops\";\nexport const getDurationString = (start, end, precision = 1) => {\n    const duration = moment.duration(moment(end).diff(moment(start)));\n    const ms = duration.asMilliseconds();\n    if (Math.abs(ms) < 1000)\n        return roundDurationUnit(ms, precision, 'ms');\n    const seconds = duration.asSeconds();\n    if (Math.abs(seconds) < 60)\n        return roundDurationUnit(seconds, precision, 'sec');\n    const minutes = duration.asMinutes();\n    if (Math.abs(minutes) < 60)\n        return roundDurationUnit(minutes, precision, 'min');\n    const hours = duration.asHours();\n    if (Math.abs(hours) < 24)\n        return roundDurationUnit(hours, precision, 'hour');\n    const days = duration.asDays();\n    if (Math.abs(days) < 7)\n        return roundDurationUnit(days, precision, 'day');\n    const weeks = duration.asWeeks();\n    if (Math.abs(weeks) < 4.345)\n        return roundDurationUnit(weeks, precision, 'week');\n    const months = duration.asMonths();\n    if (Math.abs(months) < 12)\n        return roundDurationUnit(months, precision, 'month');\n    return roundDurationUnit(duration.asYears(), precision, 'year');\n};\nconst roundDurationUnit = (n, precision, unit) => {\n    const roundNumber = round(n, precision).toString();\n    const textNumber = roundNumber.endsWith('.0')\n        ? roundNumber.slice(0, -precision - 1)\n        : roundNumber;\n    if (textNumber === \"0\")\n        return `<${1 / Math.pow(10, precision)}ms`;\n    return `${textNumber} ${unit}${textNumber === \"1\" ? '' : 's'}`.trim();\n};\n","import { dynaError } from \"dyna-error\";\nexport const getRuntimeStack = () => {\n    const stack = [];\n    try {\n        throw new Error('Getting runtime stack');\n    }\n    catch (e) {\n        const error = dynaError(e);\n        const stackString = error.stack;\n        const stackLines = stackString\n            .split('\\n')\n            .slice(1)\n            .map(line => line.trim())\n            .filter(Boolean);\n        stack.push(...stackLines);\n    }\n    return stack;\n};\n","export * from \"./getRuntimeStack\";\nexport * from \"./getDurationString\";\n","import moment from \"moment\";\nimport { getDurationString, getRuntimeStack, } from \"../utils\";\nimport { isLocalhost } from \"./isLocalhost\";\nexport var ESeverity;\n(function (ESeverity) {\n    ESeverity[\"LOG\"] = \"log\";\n    ESeverity[\"INFO\"] = \"info\";\n    ESeverity[\"DEBUG\"] = \"debug\";\n    ESeverity[\"ERROR\"] = \"error\";\n    ESeverity[\"CAUGHT_ERROR\"] = \"caught-error\";\n    ESeverity[\"WARN\"] = \"warn\";\n})(ESeverity || (ESeverity = {}));\n/**\n * ConsoleLogger stores all the console logs in memory for later processing and easier access to the logged error objects or data.\n *\n * You can access the logs from the `consoleLogger.logs` array, which also includes other information like timestamps, elapsed time from the previous log, stack trace, etc.\n *\n * Tip: You can add `consoleLogger.logs` to your debugger's watcher for easy access.\n */\nclass ConsoleLogger {\n    constructor() {\n        this.logs = [];\n        this._index = 0;\n        this._isEnabled = localStorage.getItem('ConsoleLogger-Enabled') === \"true\";\n        this._lastConsole = Date.now();\n        this._originalConsole = {\n            log: window.console.log,\n            info: window.console.info,\n            debug: window.console.debug,\n            error: window.console.error,\n            warn: window.console.warn,\n            [ESeverity.CAUGHT_ERROR]: () => undefined, // It is not used anyway\n        };\n        this._perform = (severity, args) => {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const self = this;\n            const date = new Date();\n            const elapsed = getDurationString(this._lastConsole, date);\n            if (this.enabled) {\n                const logItem = {\n                    index: this._index++,\n                    time: moment(date).format('HH:mm:ss.SSS'),\n                    elapsed,\n                    severity,\n                    args,\n                    message: typeof args[0] === \"string\"\n                        ? args[0]\n                        : \"---no text console---\",\n                    date,\n                    elapsedMs: date.valueOf() - this._lastConsole,\n                    stack: getRuntimeStack(),\n                    get copyToGlobal() {\n                        self._copyToGlobal(logItem);\n                        return \"Copied to `window.temp`\"; // Technically, assigned, not copied\n                    },\n                };\n                this.logs.push(logItem);\n            }\n            const prefix = `${elapsed.padStart(6, ' ')}`;\n            this._lastConsole = date.valueOf();\n            this._originalConsole[severity](prefix, ...args);\n        };\n        window.console.log = (...args) => this._perform(ESeverity.LOG, args);\n        window.console.info = (...args) => this._perform(ESeverity.INFO, args);\n        window.console.debug = (...args) => this._perform(ESeverity.DEBUG, args);\n        window.console.error = (...args) => this._perform(ESeverity.ERROR, args);\n        window.console.warn = (...args) => this._perform(ESeverity.WARN, args);\n        window.consoleLogger = this;\n        window.addEventListener('error', (error) => {\n            this._perform(ESeverity.CAUGHT_ERROR, [\"consoleLogger: Uncaught error\", error.message, error]);\n        });\n        window.addEventListener('unhandledrejection', (event) => {\n            this._perform(ESeverity.CAUGHT_ERROR, [\"consoleLogger: Uncaught promise rejection\", event.reason, event]);\n        });\n        if (this.enabled) {\n            console.info([\n                \"consoleLogger: Is enabled and logging for this terminal.\",\n                \"Run `consoleLogger.enabled=false` to turn it off.\",\n            ].join('\\n'));\n        }\n        else {\n            if (isLocalhost) {\n                console.info([\n                    \"consoleLogger: Started but it is not enabled for this terminal.\",\n                    \"Run `consoleLogger.enabled=true` to start logging the consoles.\",\n                    \"This message is shown only in dev environment.\",\n                ].join('\\n'));\n            }\n        }\n    }\n    get enabled() {\n        return this._isEnabled;\n    }\n    set enabled(enabled) {\n        this._isEnabled = enabled;\n        localStorage.setItem('ConsoleLogger-Enabled', enabled.toString());\n    }\n    clear() {\n        this.logs.length = 0;\n        console.info('ConsoleLogger: clear() called');\n    }\n    _copyToGlobal(logItem) {\n        const currentTempVariables = Object\n            .keys(window)\n            .filter(key => regExpIsTempVariable.test(key)).length;\n        for (let i = currentTempVariables; i > 0; i--) {\n            if (window[`temp${i}`])\n                window[`temp${i + 1}`] = window[`temp${i}`];\n        }\n        window.temp1 = logItem;\n    }\n}\nconst regExpIsTempVariable = /^temp\\d+$/;\nlet applied = false;\nexport const startConsoleLogger = () => {\n    if (applied)\n        return;\n    applied = true;\n    new ConsoleLogger();\n};\n","export * from './ConsoleLogger';\nexport * from './isLocalhost';\n","export const isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n","module.exports = require(\"dyna-error\");","module.exports = require(\"dyna-loops\");","module.exports = require(\"moment\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { startConsoleLogger } from '../web';\nconst VERSION = '2.17';\nstartConsoleLogger();\nconsole.debug(`üêù dyna-userscripts - loaded - v${VERSION}`);\n"],"names":["moment","round","getDurationString","start","end","precision","arguments","length","undefined","duration","diff","ms","asMilliseconds","Math","abs","roundDurationUnit","seconds","asSeconds","minutes","asMinutes","hours","asHours","days","asDays","weeks","asWeeks","months","asMonths","asYears","n","unit","roundNumber","toString","textNumber","endsWith","slice","concat","pow","trim","dynaError","getRuntimeStack","stack","Error","e","error","stackString","stackLines","split","map","line","filter","Boolean","push","apply","_toConsumableArray","isLocalhost","ESeverity","ConsoleLogger","_this","_classCallCheck","logs","_index","_isEnabled","localStorage","getItem","_lastConsole","Date","now","_originalConsole","_defineProperty","log","window","console","info","debug","warn","CAUGHT_ERROR","_perform","severity","args","_this$_originalConsol2","self","date","elapsed","enabled","logItem","index","time","format","message","elapsedMs","valueOf","copyToGlobal","_copyToGlobal","prefix","padStart","_len","Array","_key","LOG","_len2","_key2","INFO","_len3","_key3","DEBUG","_len4","_key4","ERROR","_len5","_key5","WARN","consoleLogger","addEventListener","event","reason","join","_createClass","key","get","set","setItem","value","clear","currentTempVariables","Object","keys","regExpIsTempVariable","test","i","temp1","applied","startConsoleLogger","location","hostname","match","VERSION"],"sourceRoot":""}